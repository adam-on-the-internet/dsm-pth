<div class="container">
  <div class="row justify-content-center text-center" *ngIf="ready; else loading">
    <div class="col-md-12">
      <h1>{{meetingAgenda.name}}</h1>
      <h2 *ngIf="meetingAgenda.subtitle">{{meetingAgenda.subtitle}}</h2>
      <hr>
    </div>
    <div class="col-md-6">
      <h3>Links</h3>
      <app-link-display [links]="meetingAgenda.links"></app-link-display>
    </div>
    <div class="col-md-6">
      <h3>Details</h3>
      <p>{{meetingAgenda.time}}</p>
      <p>{{meetingAgenda.place}}</p>
      <p>{{meetingAgenda.type}}</p>
      <p *ngIf="meetingAgenda.description">{{meetingAgenda.description}}</p>
    </div>
    <div class="col-md-12">
      <hr>
      <h4>Agenda Items</h4>
      <p>
        You can display agenda items in a few different ways. By default, only our highest priority items will be shown.
      </p>
      <p>
        <app-select-input [valueName]="'Filter'" [(value)]="mode" [options]="filterOptions"></app-select-input>
      </p>
      <p class="text-center" *ngIf="sortedAgendaItems.length === 0">
        No agenda items to show.
      </p>
      <ng-container *ngIf="sortedAgendaItems.length > 0">
        <ng-container *ngFor="let item of sortedAgendaItems">
          <app-card [autoHeight]="false">
            <h4>{{item.name}} <small>{{item.section}} <span *ngIf="isItemOnConsent(item)">- Consent Item</span></small>
            </h4>
            <hr>
            <section *ngIf="item.ourText">
              <p>Our Text:</p>
              <p>{{item.ourText}}</p>
              <hr>
            </section>
            <p>City's Text:</p>
            <p>{{item.cityText}}</p>
            <hr>
            <div class="row">
              <div class="col-md-6">
                <p>City's Attachments</p>
                <app-link-display [links]="item.cityAttachments"></app-link-display>
              </div>
              <div class="col-md-6">
                <p>Relevant Links</p>
                <app-link-display [links]="item.ourLinks"></app-link-display>
              </div>
            </div>
          </app-card>
          <br>
        </ng-container>
      </ng-container>
    </div>
  </div>
</div>

<ng-template #loading>
  <app-loading></app-loading>
</ng-template>
